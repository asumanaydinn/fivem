// Adding a speed prop to the component
const SpeedoMeter7 = ({ speed }: { speed: number }) => {
  // Calculate the number of active bars based on the current speed
  const activeBarsCount = Math.round((speed / 100) * 24);

  // Function to generate indicator bars dynamically
  const generateIndicatorBars = (activeCount: number) => {
    let bars = [];
    for (let i = 0; i < 24; i++) {
      bars.push(
        <div
          key={i}
          className={`w-[4.87px] h-[29.21px] rounded-sm shadow-inner ${
            i < activeCount ? "bg-teal-500" : "bg-neutral-700"
          }`}
        />
      );
    }
    return bars;
  };

  return (
    <div className="w-[151.05px] h-[87.77px]">
      <div className="flex items-center gap-x-2">
        <svg
          width="24"
          height="43"
          viewBox="0 0 24 43"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g filter="url(#filter0_i_79_1484)">
            <rect
              y="0.262085"
              width="23.2749"
              height="42.0451"
              rx="1.21703"
              fill="#18CBA6"
            />
          </g>
          <path
            d="M11.5826 23.5209V15.4446L10.5767 16.6837H8.27337L11.3494 13.0246H13.332V23.5209H11.5826Z"
            fill="#0C4A3D"
          />
          <path
            d="M15.1688 29.9774C15.1703 29.9258 15.1703 29.8741 15.1688 29.8225L15.704 29.1539C15.7321 29.1188 15.7515 29.0776 15.7607 29.0336C15.77 28.9896 15.7687 28.944 15.7571 28.9006C15.6692 28.5709 15.538 28.2543 15.3668 27.959C15.3444 27.9204 15.3133 27.8876 15.2759 27.8631C15.2386 27.8386 15.196 27.8232 15.1516 27.8181L14.3008 27.7234C14.2654 27.6861 14.2295 27.6502 14.1932 27.6158L14.0927 26.7628C14.0876 26.7184 14.0721 26.6758 14.0476 26.6384C14.023 26.6011 13.9901 26.5699 13.9514 26.5476C13.6562 26.3765 13.3396 26.2455 13.0098 26.158C12.9664 26.1464 12.9209 26.1452 12.8769 26.1544C12.8329 26.1636 12.7917 26.183 12.7566 26.2111L12.0898 26.7434C12.0381 26.7434 11.9864 26.7434 11.9348 26.7434L11.2662 26.2093C11.2311 26.1812 11.1899 26.1618 11.1459 26.1526C11.1019 26.1434 11.0564 26.1446 11.0129 26.1562C10.6832 26.2441 10.3666 26.3753 10.0713 26.5465C10.0327 26.5689 9.99986 26.6 9.97539 26.6374C9.95091 26.6748 9.9355 26.7173 9.93037 26.7617L9.83568 27.614C9.79837 27.6496 9.7625 27.6855 9.72807 27.7216L8.87508 27.8195C8.83067 27.8247 8.78809 27.8401 8.75073 27.8647C8.71336 27.8892 8.68224 27.9221 8.65986 27.9608C8.48888 28.2561 8.35777 28.5727 8.26995 28.9024C8.2584 28.9459 8.25721 28.9914 8.2665 29.0354C8.27578 29.0794 8.29527 29.1206 8.32339 29.1557L8.85571 29.8225C8.85571 29.8741 8.85571 29.9258 8.85571 29.9774L8.3216 30.6461C8.29354 30.6812 8.27411 30.7224 8.26489 30.7664C8.25567 30.8104 8.25691 30.8559 8.26851 30.8993C8.3564 31.229 8.48764 31.5457 8.65878 31.8409C8.68121 31.8795 8.71234 31.9124 8.74971 31.9369C8.78707 31.9613 8.82963 31.9767 8.874 31.9819L9.72484 32.0766C9.76047 32.1139 9.79634 32.1497 9.83245 32.1842L9.93181 33.0372C9.93698 33.0816 9.95244 33.1242 9.97698 33.1615C10.0015 33.1989 10.0344 33.23 10.0731 33.2524C10.3684 33.4234 10.685 33.5545 11.0147 33.6423C11.0582 33.6538 11.1037 33.655 11.1477 33.6457C11.1917 33.6365 11.2329 33.617 11.268 33.5889L11.9348 33.0565C11.9864 33.058 12.0381 33.058 12.0898 33.0565L12.7584 33.5917C12.7935 33.6198 12.8347 33.6392 12.8787 33.6484C12.9227 33.6576 12.9682 33.6564 13.0116 33.6448C13.3414 33.5571 13.658 33.4258 13.9532 33.2545C13.9918 33.2321 14.0247 33.201 14.0492 33.1636C14.0736 33.1263 14.089 33.0837 14.0942 33.0393L14.1889 32.1885C14.2262 32.1531 14.262 32.1172 14.2965 32.0809L15.1495 31.9804C15.1939 31.9753 15.2365 31.9598 15.2738 31.9353C15.3112 31.9107 15.3423 31.8778 15.3647 31.8391C15.5357 31.5438 15.6668 31.2272 15.7546 30.8975C15.7662 30.8541 15.7673 30.8085 15.7581 30.7645C15.7488 30.7205 15.7293 30.6793 15.7012 30.6443L15.1688 29.9774ZM12.0123 31.3348C11.7285 31.3348 11.4511 31.2506 11.2151 31.093C10.9792 30.9353 10.7953 30.7112 10.6867 30.449C10.5781 30.1869 10.5497 29.8984 10.605 29.6201C10.6604 29.3417 10.7971 29.0861 10.9977 28.8854C11.1984 28.6847 11.454 28.5481 11.7324 28.4927C12.0107 28.4374 12.2992 28.4658 12.5614 28.5744C12.8235 28.683 13.0476 28.8669 13.2053 29.1028C13.3629 29.3388 13.4471 29.6162 13.4471 29.9C13.4471 30.2805 13.2959 30.6455 13.0268 30.9145C12.7578 31.1836 12.3928 31.3348 12.0123 31.3348Z"
            fill="#0C4A3D"
          />
          <defs>
            <filter
              id="filter0_i_79_1484"
              x="0"
              y="0.262085"
              width="24.0257"
              height="45.1984"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="BackgroundImageFix"
                result="shape"
              />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dx="0.750805" dy="3.75402" />
              <feGaussianBlur stdDeviation="1.57669" />
              <feComposite
                in2="hardAlpha"
                operator="arithmetic"
                k2="-1"
                k3="1"
              />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.0675 0 0 0 0 0.6 0 0 0 0 0.486955 0 0 0 1 0"
              />
              <feBlend
                mode="normal"
                in2="shape"
                result="effect1_innerShadow_79_1484"
              />
            </filter>
          </defs>
        </svg>
        <svg
          width="24"
          height="43"
          viewBox="0 0 24 43"
          fill="none"
          xmlns="http://www.w3.org/2000/svg"
        >
          <g filter="url(#filter0_i_0_1)">
            <rect
              x="0.527344"
              y="0.262085"
              width="23.2749"
              height="42.0451"
              rx="1.21703"
              fill="#3F3F3F"
            />
          </g>
          <g filter="url(#filter1_i_0_1)">
            <path
              d="M0.527344 22.5385C0.527344 21.6253 1.50646 21.0327 2.3757 21.3125C10.4628 23.9161 15.533 14.9762 23.2936 20.1753C23.6143 20.3902 23.8023 20.7615 23.8023 21.1476V41.0901C23.8023 41.7623 23.2574 42.3071 22.5853 42.3071H1.74437C1.07222 42.3071 0.527344 41.7623 0.527344 41.0901V22.5385Z"
              fill="#C79618"
            />
          </g>
          <path
            d="M16.06 30.8056L15.4118 30.1581C15.3615 30.1077 15.2932 30.0795 15.2221 30.0795C15.1509 30.0795 15.0827 30.1077 15.0324 30.1581C14.9821 30.2084 14.9538 30.2766 14.9538 30.3478C14.9538 30.4189 14.9821 30.4872 15.0324 30.5375L15.6799 31.1857C15.73 31.2358 15.7582 31.3036 15.7584 31.3744V34.1018C15.7584 34.1729 15.7301 34.2411 15.6798 34.2914C15.6296 34.3417 15.5613 34.3699 15.4902 34.3699C15.4191 34.3699 15.3509 34.3417 15.3006 34.2914C15.2503 34.2411 15.2221 34.1729 15.2221 34.1018V32.7611C15.2221 32.5477 15.1373 32.3431 14.9865 32.1922C14.8356 32.0414 14.631 31.9566 14.4177 31.9566H13.8814V30.3478C13.8814 30.1344 13.7966 29.9298 13.6458 29.7789C13.4949 29.6281 13.2903 29.5433 13.0769 29.5433H10.3955C10.1821 29.5433 9.97753 29.6281 9.82667 29.7789C9.67581 29.9298 9.59105 30.1344 9.59105 30.3478V35.4425H9.05477C8.98365 35.4425 8.91545 35.4708 8.86516 35.521C8.81487 35.5713 8.78662 35.6395 8.78662 35.7107C8.78662 35.7818 8.81487 35.85 8.86516 35.9003C8.91545 35.9505 8.98365 35.9788 9.05477 35.9788H14.4177C14.4888 35.9788 14.557 35.9505 14.6073 35.9003C14.6575 35.85 14.6858 35.7818 14.6858 35.7107C14.6858 35.6395 14.6575 35.5713 14.6073 35.521C14.557 35.4708 14.4888 35.4425 14.4177 35.4425H13.8814V32.4929H14.4177C14.4888 32.4929 14.557 32.5212 14.6073 32.5715C14.6575 32.6217 14.6858 32.69 14.6858 32.7611V34.1018C14.6858 34.3151 14.7705 34.5197 14.9214 34.6706C15.0723 34.8215 15.2769 34.9062 15.4902 34.9062C15.7036 34.9062 15.9082 34.8215 16.0591 34.6706C16.2099 34.5197 16.2947 34.3151 16.2947 34.1018V31.3744C16.2951 31.2688 16.2745 31.1642 16.2343 31.0665C16.194 30.9689 16.1348 30.8802 16.06 30.8056ZM12.5215 32.8616L11.9852 34.2023C11.9586 34.2684 11.9068 34.3211 11.8412 34.349C11.7756 34.3768 11.7017 34.3775 11.6357 34.3508C11.5696 34.3242 11.5169 34.2723 11.489 34.2068C11.4612 34.1412 11.4605 34.0673 11.4872 34.0012L11.8763 33.0292H11.1999C11.156 33.0293 11.1127 33.0186 11.0739 32.998C11.035 32.9774 11.0019 32.9476 10.9773 32.9112C10.9527 32.8747 10.9374 32.8328 10.9328 32.7891C10.9282 32.7454 10.9344 32.7013 10.9509 32.6605L11.4872 31.3198C11.5004 31.2871 11.5199 31.2573 11.5446 31.2321C11.5693 31.207 11.5988 31.1869 11.6312 31.1731C11.6637 31.1594 11.6985 31.1521 11.7338 31.1518C11.7691 31.1515 11.8041 31.1581 11.8368 31.1713C11.8695 31.1845 11.8993 31.204 11.9244 31.2287C11.9496 31.2535 11.9696 31.2829 11.9834 31.3154C11.9972 31.3478 12.0045 31.3827 12.0048 31.4179C12.0051 31.4532 11.9985 31.4882 11.9852 31.5209L11.5961 32.4929H12.2725C12.3164 32.4928 12.3597 32.5036 12.3986 32.5242C12.4374 32.5447 12.4706 32.5746 12.4952 32.611C12.5198 32.6474 12.535 32.6893 12.5396 32.733C12.5442 32.7767 12.538 32.8209 12.5215 32.8616Z"
            fill="#362A0A"
          />
          <defs>
            <filter
              id="filter0_i_0_1"
              x="0.527344"
              y="0.262085"
              width="24.0257"
              height="45.1984"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="BackgroundImageFix"
                result="shape"
              />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dx="0.750805" dy="3.75402" />
              <feGaussianBlur stdDeviation="1.57669" />
              <feComposite
                in2="hardAlpha"
                operator="arithmetic"
                k2="-1"
                k3="1"
              />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.395833 0 0 0 0 0.395833 0 0 0 0 0.395833 0 0 0 1 0"
              />
              <feBlend
                mode="normal"
                in2="shape"
                result="effect1_innerShadow_0_1"
              />
            </filter>
            <filter
              id="filter1_i_0_1"
              x="0.527344"
              y="18.519"
              width="24.0257"
              height="26.9415"
              filterUnits="userSpaceOnUse"
              color-interpolation-filters="sRGB"
            >
              <feFlood flood-opacity="0" result="BackgroundImageFix" />
              <feBlend
                mode="normal"
                in="SourceGraphic"
                in2="BackgroundImageFix"
                result="shape"
              />
              <feColorMatrix
                in="SourceAlpha"
                type="matrix"
                values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 127 0"
                result="hardAlpha"
              />
              <feOffset dx="0.750805" dy="3.75402" />
              <feGaussianBlur stdDeviation="1.57669" />
              <feComposite
                in2="hardAlpha"
                operator="arithmetic"
                k2="-1"
                k3="1"
              />
              <feColorMatrix
                type="matrix"
                values="0 0 0 0 0.6125 0 0 0 0 0.460294 0 0 0 0 0.0689062 0 0 0 1 0"
              />
              <feBlend
                mode="normal"
                in2="shape"
                result="effect1_innerShadow_0_1"
              />
            </filter>
          </defs>
        </svg>
        <div className="">
          <span className="text-neutral-500 text-5xl font-semibold font-['Orbitron']">
            0
          </span>
          <span className="text-white text-5xl font-semibold font-['Orbitron']">
            18
          </span>
        </div>
      </div>
      <div className="flex items-center gap-x-1">
        {generateIndicatorBars(activeBarsCount)}
      </div>
    </div>
  );
};

export default SpeedoMeter7;
